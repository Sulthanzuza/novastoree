  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/signup.css">
<title>{{title}}</title>
{{>header}}
<div>
    <p class="text-center fs-1 fw-semibold pt-5">Signup</p>
</div>

<div class="signup-container">
    <div class="btnn">
                <a href="/auth/google" class="btn btn-light mb-3 w-100 google-login">
  <img src="/google.webp" alt="Google Icon" class="google-icon">
  Login using Google
</a>
            </div>
    <div class="text-center my-2 d-flex align-items-center">
        <hr class="flex-grow-1 border-secondary">
        <span class="mx-2 text-muted">OR</span>
        <hr class="flex-grow-1 border-secondary">
        </div>
        {{#if message}}
    <div class="alert alert-warning text-center" role="alert">
        {{message}}
    </div>
{{/if}}
    <form action="/signup" method="POST" id="signup-form">
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="f-name" class="form-label">First Name</label>
            <input type="text" id="f-name" name="firstName" class="form-control">
        </div>
        <div class="col-md-6 mb-3">
            <label for="l-name" class="form-label">Last Name</label>
            <input type="text" id="l-name" name="lastName" class="form-control">
        </div>
    </div>
    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" name="email" class="form-control">
    </div>
    <div class="mb-3">
        <label for="refCode" class="form-label">Do you have a Refferal Code?</label>
        <input type="text" id="refCode" name="refferalCode" class="form-control">
    </div>
    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" name="password" class="form-control">
    </div>
    <div class="mb-3">
        <label for="confirm-password" class="form-label">Confirm Password</label>
        <input type="password" id="confirm-password" name="confirmPassword" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary w-100">Create Account</button>
</form>

    <p class="text-center mt-4">
        Already have an account? <a href="/login" class="link-secondary link-underline-opacity-0">Log in</a>
    </p>
</div>
{{>footer}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  
    function validateForm(event) {
        event.preventDefault(); 

        // Get form field values
        const firstName = document.getElementById('f-name').value.trim();
        const lastName = document.getElementById('l-name').value.trim();
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        const refferalCode = document.getElementById('refCode').value;

        // Validate fields
        if (!firstName || !lastName || !email || !password || !confirmPassword) {
            // Check if any field is empty
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: 'Please fill all the fields!',
            });
            return;
        }

        // Validate email format
        const emailPattern =  /^[a-z0-9]{4,}@[a-z]+\.[a-z]{2,3}$/;
        if (!emailPattern.test(email)) {
            // Check if email is valid
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: 'Please enter a valid email address!',
            });
            return;
        }

        // Check if passwords match
        if (password !== confirmPassword) {
            // Check if passwords match
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: 'Passwords do not match!',
            });
            return;
        }

        // If all validations pass, submit the form
        document.getElementById('signup-form').submit();
    }

    // Add event listener to the form
    document.getElementById('signup-form').addEventListener('submit', validateForm);
</script>
{{#if script}}
    {{{script}}}
{{/if}}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

